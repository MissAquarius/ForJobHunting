# 基本命令
## 文件目录命令
* ls
  * 功能：列出目标目录中所有的子目录和文件
  * 参数：
    * -a 所有文件
    * -l 列出文件的详细信息，包括文件名、权限、所有者、文件大小等信息
    * -R 同时列出所有子目录层
    * -h 以容易理解的格式列出文件大小
    * -i 打印出每个文件的inode号
* cd
  * 功能：切换目录
  * 进入 系统主目录：cd / 
  * 进入 当前用户根目录：cd 或者 cd~
  * 返回进入此目录之前所在的目录： cd -
* pwd
  * 查看当前所在目录
* mkdir
  * 功能：创建目录，要求创建目录的用户在当前目录中具有写权限，并且指定的目录名不能是当前目录中已有的
  * 参数：
    * -m 设定权限（mkdir -m 777 test）
    * -p 递归创建多个目录
    * -v 显示创建信息
* rm
  * 功能：删除文件或目录（-r）
  * 参数：
    * -f 强制删除，不需确认（删除以）
    * -i 交互式删除
    * -r或-R 递归删除当前目录及所有子目录
* rmdir
  * 功能： 删除空目录，一个目录被删除之前必须是空的；必须具有对其父目录的写权限
  * 参数：
    * -p 当子目录被删除后其父目录为空，也一同被删除
    * -v 显示指令执行过程
* mv 
  * 功能：根据第二个参数类型的不同，移动文件（move * ../ ）或将文件改名（ 改名move test1.log test.txt）
  * 参数：
    * -f 如果目标文件存在，不会询问直接覆盖
    * -i 目标文件存在时，询问是否覆盖
    * -u 若目标文件存在，且源文件比较新时，才会更新
    * -t 移动多个源文件到目标目录，此时目标目录在前，源文件在后(move -t test/ test1.log test2.txt == move test.log test2.txt test/)
* cp
  * 功能：复制文件到目标文；默认情况下，cp命令不能复制目录，如果要复制目录，则必须使用-R选项。
  * 参数：
    * -f 强行复制文件或目录，不论目标文件或目录是否已存在
    * -a 为每个已存在的目标文件创建备份
    * -i 覆盖前询问（不带是默认的）
    * -n 不覆盖已存在的文件
    * -r 复制目录及目录内的项目    
* touch
  * 功能：修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件
  * 参数：
    * -a 只更改access存取时间
    * -m 只更改modify修改时间
    * -t 使用指定的时间，而非当前系统时间
    * -c 不存在就不建立新文件
    * -r 把指定文档或目录的日期时间，设成和参考文档或目录的日期时间相同
* cat
  * 功能：常与重定向连用
    * 一次显示整个文件:cat filename
    * 从键盘创建一个文件:cat > filename 只能创建新文件,不能编辑已有文件.
    * 将几个文件合并为一个文件:cat file1 file2 > file
  * 参数：
    * -n 由1开始对输出的行数加上行号，空行加
    * -b 由1开始对输出的行数加上行号，空行不加
  * 扩展：tac是逆序的cat，因为功能与cat相反，即：从最后一行到第一行反向输出    
* nl
  * 功能：将输出的文件内容加上行号；与 cat -n 命令不一样，nl命令功能更多，包括行号位数/是否自动补齐0
  * 参数：
    * -b a 空行加 == cat -n
    * -b t 空行不加(默认)
    * -w 行号占的位数（默认是6位）
    * -n ln 行号在屏幕的最左方显示
    * -n rn 行号在屏幕的最右方显示
    * -n rz 行号在右边显示，加0补全
* more
  * 功能：按页查看文件内容
  * 参数：
    * +n 从第n行开始显示
    * -n 一页显示n行
    * +/pattern 按照pattern匹配查找，然后从该字串前两行之后开始显示
    * 常与管道符‘|’连用，ls -l | more +5 (ls -l命令输出的内容多，可以与more连用，分屏展示)
  * 扩展：
    * 分屏后，下一页：ctrl + f 或 空格
    * 前一页（只能往前一页）： ctrl + b
    * 退出：q
* less
  * 功能：与more类似，但less可随意浏览文件，而 more 仅能向前移动，不能随意向后移动；less 在查看之前不会加载整个文件，more会
  * 参数：
    * -f 强制打开特殊文件
    * -i 搜索时忽略大小写
* head
  * 功能：用于显示指定文件开头内容，默认是文件的开头10行
  * 参数：
    * -n<行数> 显示的行数
    * -c<字节数> 显示的字节数 
  * 扩展：-n后面的 正数表示从前面开始，负数表示后面开始
    * head -n 5 filename  显示前五行的内容
    * head -n +5 filename  显示前五行的内容（头正head -n k == head -n +k）
    * head -n -5 filename  显示倒数第五行之前的内容
* tail
  * 功能：用于显示指定文件末尾内容
  * 参数：
    * -n<行数> 显示的行数
    * -c<字节数> 显示的字节数 
    * -f 循环查看文件内容
  * 扩展：-n后面的 正数表示从前面开始，负数表示后面开始
    * tail -n 5 filename 显示后五行的内容
    * tail -n +5 filename 显示第五行到末尾之间的内容
    * tail -n -5 filename 显示后五行的内容（尾负tail -n k == tail -n -k）
    
## 文件查找命令
  * which
    * 功能：查看可执行文件的位置
  * whereis 在数据库中查找 速度快
    * 功能：查看文件的位置
    * 参数：
      * -b 二进制文件 
      * -m 说明文件
      * -s 源代码文件
  * locate 
    * 功能：在数据库中查找 速度快 ，查找前最好更新一下数据库文件，默认是模糊匹配
    * 参数：
      * -b 精确匹配
      * -c 统计搜索到的总数
      * -i 忽略大小写
  * find pathname -options [-print -exec -ok]
    * 功能：在硬盘查找文件 速度慢
    * 参数：
      * -name 按照文件名查找文件
      * -perm 按照文件权限查找文件
      * -user 按照文件属主查找文件
      * -group 按照文件所属的组来查找文件
      * -mtime n -n +n 按照文件的更改时间查找文件，n表示前第n天改动的文件，-n表示文件更改时间距离现在n天以内，+n表示n条以前
      * -type 查找某一类型的文件（f 普通文件；b 块设备文件；l 符号链接文件；d 目录）
      * -size n[c] 查找文件长度为n块的文件，n后带有c时表示文件长度以字节计
    * -exec详解：
      * -exec后面跟的是command命令，以；为结束标志，不同系统中分号有不同的含义，所以在分号前加上反斜杠
      * 例子：
        * find命令匹配到了当前目录下的所有普通文件，并在-exec选项中使用ls -l命令将它们列出:  find . -type f -exec ls -l {} \;  
        * find命令匹配到了当前目录下的所有log文件，并在-exec选项中使用cp命令将它们复制到其他目录:  find . -name '*.log' -exec cp {}
        * 列出当前目录及子目录下的所有扩展名为 .c 的文件； 用 -iname 忽略大小写: find . -name "*.c" 
        * 查找 /usr 下所有文件后缀为 txt 的文件，且该文件的父目录必须是 src: find /usr -path '*/src/*.txt' 
        * 列出当前目录及子目录中的所有一般文件: find . -type f 
        * 列出当前目录及子目录下所有最近 20 天更新过的文件d2: find . -ctime -20 
## Linux 文件与目录属性
  * 文件类型：普通文件、目录文件、链接文件、设备文件
  * 树形结构
  * 绝对路径与相对路径
  * . 或./ 代表当前目录 ..或../代表上层目录
  * Linux文件没有所谓的扩展名，但是可以人为的按照规则给文件命名，以此来了解文件的属性。
  * 文件有文件名和数据，这在Linux中被分成了两部分：用户数据（user data）与元数据（metadata）；用户数据是记录文件真实内容的地方，元数据是记录文件的属性信息，如大小/创建时间/inode号等。文件系统中用inode号来区分不同的文件，而不是用文件名。
  * 硬链接与软链接：若一个inode号对应多个文件名，则这些文件称为硬链接（即一个文件使用了多个别名）；若文件用户数据块中存放的内容是另一个文件的路径名指向，则该文件为软链接（即软链接有自己的inode，只是文件内容有点特殊而已）
  * 文件或目录的属性
  ![image](https://github.com/MissAquarius/ForJobHunting/blob/master/image/linux%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7.png)
  * 对应： 索引节点inode 文件种类和权限 硬链接个数 属主 组主 大小 最后修改/访问时间 文件名或目录名
## 打包与压缩命令
* tar 打包命令：将多个文件合并成一个文件
  * 参数：
    * -c 建立新的压缩文件
    * -v 显示操作过程
    * -f 指定压缩文件
    * -r 添加文件到已压缩的文件
    * -x 从压缩的文件中提取文件
    * -t 显示压缩文件的内容
    * -z 打包完调用gzip解压文件
    * -j 打包完调用bzip2解压文件
  * 例子：记住打包/查看/解压命令即可
    * tar -cvf newfile.tar oldfile 将oldfile打包成newfile.tar
    * tar -zcvf newfile.tar.gz oldfile  将oldfile打包并采用gzip压缩成newfile.tar.gz
    * tar -jcvf newfile.tar.bz2 oldfile 将oldfile打包并采用bzip2压缩成newfile.tar.bz2
    * tar -ztvf newfile.tar.gz 查阅上面第二个压缩文件的内容（加上z参数是因为用gzip方式压缩的）
    * tar -zxvf newfile.tar.gz 解压上面第二个压缩文件
* 压缩命令gzip，使用前需要先用tar命令打包
    * tar -cvf file.tar
    * gzip file.tar 压缩
    * gzip -l file.tar.gz 查看压缩包中的内容
    * gzip -dv file.tar.gz  解压
## 文件权限
* 文件或目录的权限分为：可读r（4）/可写w（2）/可执行x（1）/可删除-（0）
* 权限范围：  u：文件或目录的当前用户 g：文件或目录的当前群组 o：除了u和g的其他用户或群组  a：所有用户与群组
* -rw-r--r--  总共有十位：第一个‘-’表示该文件是普通文件，文件的属主用户拥有rw权限，与属主同组的其他用户拥有r权限，系统其他用户拥有r权限
* chmod
  * 功能：改变文件或目录权限
  * 格式：  chmod [who] [+-=] [mode] 文件名
  * 参数：
    * -R 递归的处理目录及子目录下的文件
    * -v 显示处理信息
    * -f 错误信息不输出
  * 例子：
    * chmod a+x filename 增加filename所有用户组可执行权限
    * chmod ug=w, o-x filename 将filename的属主和用户组的权限改为写（撤销原来的权限），同时删除其他用户的可执行权限
    * chmod -R u+x diectoryname 递归的将diectoryname及其子目录下的属主用户增加可执行权限
    * 数字表示法： chmod u=rwx,g=rx,o=x filename 等同于 chmod 751 filename 
* chgrp
  * 功能：改变文件或目录所属群组，root超级用户才有权限使用此命令
  * 格式：chgrp [参数] [组] 文件 
  * 参数：
    * -v 显示处理信息
    * -R 递归处理
    * -f 忽略错误信息
    * --reference=<文件或者目录> 
  * 例子：
    * chgrp -v newgroup filename 将filename的属主改为newgroup
    * chgrp --reference==file filename 改变filename的群组属性，使得其与file的属性相同
* chown
  * 功能：将指定文件的拥有者改为指定的用户或组
  * 例子：
    * 改变用户：chown newuser: filename
    * 改变组：chown :newgroup filename
    * 改变用户和组：chown newuser:newgroup filename
## 磁盘存储
* df
  * 功能：检查磁盘空间占用情况
  * 参数：
    * -a 全部文件系统列表
    * -h 方便阅读方式显示
    * -H 等于‘-h’，但是计算时1k=1000B 而不是1024B
    * -i 显示inode信息
* du
  * 功能：显示每个文件或目录的磁盘使用情况
  * 参数：
    * -b 显示文件或目录大小时，以byte为单位
    * -h 方便阅读方式展示
  * 例子：
    * du -sh # 显示当前当前目录的大小
    * du -sh dirname/filename # 显示当前目录下的指定目录或文件的大小
    * ls -l # 也可查看目录或文件的大小
## 其他
* top：动态显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等
* ps： 静态显示系统中正在执行的进程信息
  * 例子：ps -a 显示所有进程信息；ps -ef|grep ssh 与grep连用，查找指定进程信息；ps aux 列出目前所有的正在内存中的程序
* kill：杀死进程：
 进程的五种状态：运行R/中断S/不可中断D/僵死Z/停止T
* free：显示系统使用和空闲的内存情况
* ifconfig：查看和配置网络设备
* route：显示与操作IP路由表
* traceroute：追踪网络数据包的路由途径
* netstat：检验本机各端口的网络连接情况 
  查看所有的进程和端口使用情况: ``` netstate -apn ``` 
* telnet：远程登陆
* date：显示或设定系统的日期与时间
* diff：比较单个文件或目录，找出不一样的地方
* wc： 统计文件中的字数/行数/字节数并输出，常与管道符连用，输出统计信息
  * wc -c 统计字节数
  * wc -l 统计行数
  * wc -m 统计字符数
  * wc -w 统计字数（一个字是指由空格/跳格/换行分割的字符串）
* tr: ``` tr [options] [第一字符集] [第二字符集] 用于转换或删除文件中的字符  ```
  * -c 反选设定字符，即符合 SET1 的部分不做处理，不符合的才转换
  * -d 删除指定字符
  * 字符集有：
    [:alnum:] 所有字母与数字； [:alpha:] 所有字母； [:digit:] 所有数字  <br>
    [:blank:] 所有水平空格； [:space:] 所有水平与垂直空格符； [:punct:] 所有标点符号  <br>
    [:graph:] 所有可打印字符（不包含空格）； [:print:] 所有可打印字符(包含空格)  <br>
    [:upper:] 所有大写字母； [:lower:] 所有小写字母 <br>
 * 例子： 将 file 中的所有小写字母转为大写字母 ``` cat filename | tr [:lower:] [:upper:]  ```
* scp：远程拷贝文件，使用ssh加密传输，更安全
* rcp：远程拷贝文件，是scp的弱化版，不安全
## Linux三剑客
* sed：
  * sed是一种流编辑器，是一个文本编辑工具，实现数据的替换，删除，增加，选取等(以行为单位进行处理)
  * 处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有改变，除非使用重定向存储输出。（默认修改文件不保存，这样有什么用呢？---将文件内容处理后可以用管道传递给另一个命名，很多时候只是关心处理的结果，因为用管道传递，下个命令不去用原文件或其他临时文件；如果实在需要一个文件，也可以将处理结果导入到一个临时文件）
  * 用法：
    * sed [-nefr] [动作]    [动作]说明： [n1[,n2]]function n1，n2表示处理的行
    * -n ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。
    * -e ：直接在命令列模式上进行 sed 的动作编辑；
    * -f ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；
    * -r ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)
    * -i ：直接修改读取的文件内容，而不是输出到终端。
    * function：
      * a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)
      * c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行
      * d ：删除，因为是删除啊，所以 d 后面通常不接任何内容；
      * i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；
      * p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行
      * s ：取代，可以直接进行取代！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 
    * 一般操作命令的例子：
      * nl /etc/passwd | sed '2,5d' 将/etc/passwd的内容列出并将第[2,5]行删除，注意动作要加引号
      * sed '2a drink tae' 在第二行后加上『drink tea』字样
      * sed '2i drink tae' 在第二行前加上『drink tea』字样
      * sed '2a drink tae \ drink water' 在第二行后加上两行：『drink tea』『drink water』
      * nl /etc/passwd|sed '/root/p'   搜索 /etc/passwd有root关键字的行
      * nl passwd|sed '1c abcd'    将第一行的内容替换成abcd
      
* grep：用正则表达式搜索文本 grep [option] pattern filename
  * -c 显示符合要求的行的个数； -i 忽略大小写； -n 输出行号； -v 反向输出，也就是不匹配的内容； -o 只显示被匹配到的字符串； -f <规则文件> 查找符合指定规则文件的内容，格式为每行一个规则样式；
  * 若希望输出匹配行的前后行：
    grep 字符串 filepath -A 1 ： 输出除匹配的该行外，还显示其后面一行(After 1)  <br>
    grep 字符串 filepath -B 1 ： 输出除匹配的该行外，还显示其前面一行(Before 1)   <br>
    grep 字符串 filepath -1 ： 输出除匹配的该行外，还显示前一行和后一行  <br>
  * 例子：ps -ef|grep -c svn 查找指定进程的个数;  统计某个文本中 abc 出现的次数: grep -o 'abc' filename | wc -l
  
* awk：将一行文字按分隔符分为多个域，依次记为$1，$2 ...  $n. $0 代表所有域值，适合于以域为单位来处理文件，常用于对文件的抽取整理。
  * 强大的文本分析工具，相对于grep的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。简单来说awk就是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。
  * 格式： awk  [options] '{pattern + action}' {filenames}  必须用单引号  <br>
    其中 pattern 表示 AWK 在数据中查找的内容，而 action 是在找到匹配内容时所执行的一系列命令。pattern就是要表示的正则表达式，用斜杠括起来; -F 指定分隔符,如果有多个分隔符： awk -F '[:,]' filepath
  * 例子：比较复杂，牵扯到shell编程的知识，只列出简单的
    * awk '{print $1,$4}' log.txt 以空格或者TAB为分隔符，打印出分隔后的log.txt中的每行的第一个和第四个
    * awk -F , '{print $1,$4}'   log.txt   以逗号为分隔符，同上
    
# 文件系统
* 在 linux 中，一切皆是文件。操作系统通过文件系统管理文件及数据，磁盘或分区需要创建文件系统之后，才能被操作系统所用，创建文件系统的过程又称之为格式化。ext3、ext4 是 Linux 中主流的文件系统。
```
mke2fs -t ext4 /dev/sda3 #给第一块 SATA 硬盘的 3 号分区创建 ext4 文件系统
mkfs.ext4 /dev/sda3
```
* 目录：
  * /bin 目录是包含一些二进制文件的目录，即可以运行的一些应用程序。
  * /dev 目录包含设备文件。 其中许多是在启动时或甚至在运行时生成的。 
  * /etc 系统配置文件。 包含系统名称、用户及其密码、网络上计算机名称等
  * /home 存放用户个人目录 
  * /opt 目录通常编译软件的地方。应用程序最终会出现在 /opt/bin 目录，库会在 /opt/lib 目录中出现。 
  * /usr 包含了应用程序、库、文档、壁纸、图标和许多其他需要应用程序和服务共享的内容

# 进程管理
* 进程：是一个具有一定独立功能的程序在一个数据集合上的一次动态执行过程。
* 进程描述由三部分组成: 进程控制块—PCB ; 程序段;  数据结构集
* 进程状态描述： [!image](https://github.com/MissAquarius/ForJobHunting/blob/master/image/%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81.png)
* 进程的互斥和同步：
  * 互斥：将不允许并发进程同时对临界区进行访问的这种约束称为进程的互斥
  * 同步：具有直接制约关系的并发进程，执行中需要互通信息，达到协同工作的方式称为进程同步。
*  linux中的两个特殊进程：
 * 0# 进程：由内核程序创建，初始化时创建1#进程；在系统引导完成后，负责分配处理器；日常负责进程调度与交换(idle, 当没有任务需要CPU计算的时候，CPU就去执行0号进程，相当于占位的操作一样)
 * 1# 进程：负责对用户进程管理，是所有用户进程的祖先进程

* 查看进程： 
  * ps: 查看全部进程 ps -aux ; 查看特定进程 ps -aux | grep xxx
  ```
  空 显示自己的进程；
  -a 显示现行终端下的所有进程，包括其他用户的进程；
  -A 所有进程都显示，相当于 -e；
  -u 以用户为主的进程状态；
  x 通常与 -a 一起用，列出较完整的信息；
  -l 显示较详细的信息
  ```
  * ps tree:  显示进程树，即用树状图形式显示进程。 -p 显示 pid
  * top: 可以查看系统的 cpu、内存、运行时间、交换分区、执行的线程等。能够有效发现系统的缺陷在哪。 可以实时显示进程信息，可用于监控 linux的系统状况 :
    ![image](https://github.com/MissAquarius/ForJobHunting/blob/master/image/top%E5%91%BD%E4%BB%A4%E8%BF%90%E8%A1%8C%E6%88%AA%E5%9B%BE.png)
    1. 第一行 load average 后面有三个数字，显示距离现在 1、5、15 分钟的负载情况，数值除以逻辑 cpu 的数量，结果高于 5 则表明系统在超负荷运转。
    2. 第三行 %Cpu(s): 13.7 us, 1.5 sy, 0.0 ni, 84.2 id, 0.6 wa, 0.0 hi, 0.0 si, 0.0 st
    ```
    us: user 用户空间占用 cpu 的百分比 
    sy: system 内核空间占用 cpu 的百分比 
    ni: niced 改变过优先级的进程占用 cpu 的百分比 
    id: 空闲 cpu 百分比 
    wa: IO wait IO 等待占用 cpu 的百分比 
    hi: Hardware IRQ 硬中断占用 cpu 的百分比 
    si: software 软中断占用 cpu 的百分比 
    st: 被 hypervisor 偷去的时间
    ```
    3. 第四行为内存状态
    4. 第五行为 swap 交换分区
    5. 第七行是各进程的监控
    ```
    PR： 进程优先级 
    NI： nice 值。负值表示高优先级，正值表示低优先级 
    VIRT： 进程使用的虚拟内存总量，VIRT = SWAP + RES 
    RES： 进程使用的、未被换出的物理内存大小，RES = CODE + DATA 
    SHR： 共享内存大小
    S： 进程状态。 D = 不可中断的睡眠状态，R = 运行，S = 睡眠，T = 跟踪/停止，Z = 僵尸进程 
    %CPU： 上次更新到现在的CPU时间占用百分比
    %MEM： 进程使用的物理内存百分比 
    TIME+： 进程使用的CPU时间总计
    COMMAND： 进程名称（命令名/命令行）
    ```
  * netstat：显示各种网络相关信息，如网络连接、路由表、接口状态等
  ```
  -a 显示所有选项（包括 listen）；
  -t 仅显示 tcp 相关； 
  -u 仅显示 udp 相关；
  -l 仅列出有在 listen 的服务状态；
  -n 拒绝显示别名（显示数字）；
  -p 显示建立相关连接的程序名
  ```
  例子：
  查看占用 80 端口的进程信息： ```  netstat -anp | grep 80 ```
* 进程分配
  * Linux 内核使用位图为进程分配 pid，数据结构为 pidmap-array。 <br>
      位图算法：特点是生成的是整数，而且唯一，限定在某个范围内。内核使用了一个大的位图，其中每个 pid 由一个比特标识，分配一个空闲的 pid，       本质上等同于找出位图中第一个值为 0 的比特，接下来将其置为 1，释放时由 1 置为 0.  <br>
      进程中 pid 号分配是 0-32767 之间，其中 0-299 是分配给 deamon（守护进程）的，剩下的 pid 是分配给普通进程的
  * 后台运行： 命令后加&, 后台运行; bg %1: 将1号进程移到后台;  fg %1: 移到前台
* 孤儿进程和僵尸进程(重点)：
  * 子进程和父进程的运行是异步过程，即父进程永远无法预测子进程何时结束。当子进程完成工作终止后，父进程需要调用 wait() 或 waitpid() 系统取得子进程的终止状态
  * 孤儿进程：
    1. 一个父进程退出，而他的子进程还在运行，那么这些子进程将成为孤儿进程。
    2. 孤儿进程没有父进程，会被 init 进行（pid=1）收养，并由 init 进程对他们完成状态收集工作。
    3. 孤儿进程不会对系统造成危害。
  * 僵尸进程
    1. 一个进程使用 fork 创建子进程，如果子进程退出，而父进程没有调用 wait() 或 waitpid() 获取子进程的状态信息，那子进程的进程描述符仍保留在系统中，成为僵尸进程。
    2. 子进程在 exit() 后并非马上消失，而是留下一个僵尸进程(zombie)的数据结构，等待父进程处理。若父进程没来得及处理，用 ps 查看子进程会显示状态 “Z”
    3. 系统能使用的进程号有限，如果产生大量僵尸进程，就可能因为没有可用进程号而不能产生新进程。
    4. 消灭僵尸进程： kill 父进程，那僵尸进程将变为孤儿进程，由 init 收养，init 会释放僵尸进程占用的资源。
* crontab 定时: cron程序实现周期性任务的自动执行

# 网络管理
* 查看网络接口信息： 所有网络接口信息  ifconfig; 指定网络接口信息 ifconfig eth0 
* 查看主机的路由信息： route
* 测试当前主机与其他主机的网络连接: ping
* 测试当前主机到目的主机之间经过的所有网络节点: traceroute
* 显示当前主机的名称: hostname
* 可进行域名的查询: nslookup

# 系统管理
* 用户管理： 
```
useradd xxx：添加用户
passwd xxx： 为新用户设置密码
userdel xxx：删除用户
logout：注销当前用户
```
* 磁盘管理
```
df：列出文件系统的整体磁盘使用量
du：检查磁盘空间使用量
fdisk：用于磁盘分区
mount: 磁盘挂载使用 mount 命令，卸载使用 umount 命令。 mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n] 装置文件名 挂载点
```
# Vi文本编辑器
* 三种状态模式：命令模式、输入模式、末行模式
* 输入模式(i/a) <-> (ESC)命令模式(:) <->(ESC) 末行模式
* 直接进入编辑环境: vi; 进入编辑环境并打开(新建)文件: vi myfile; 退出vi编辑环境:输入末行命令放弃对文件的修改,并退出编辑器
:q! 
* 保存对vi编辑器中已打开文件的修改  :w ; 另存为文件:  将vi编辑器中的内容另存为指定文件名 :w myfile
* 没有对vi编辑器中打开的文件进行修改，或已对修改进行了保存，直接退出vi编辑器  :q
  对vi编辑器中的文件进行保存并退出vi编辑器  :qw
  放弃对文件内容的修改，并退出vi编辑器   :q!
* 字符串查找操作： 
  * /word 从上而下在文件中查找字符串“word”
  * ?word 从下而上在文件中查找字符串“word”
  * n  定位到下一个匹配的被查找的字符串
  * N  定位到上一个匹配的被查找的字符串
* 字符串替换操作：
  * :s/old/new  将当前行中查找到的第一个字符“old” 串替换为“new”
  * :s/old/new/g 将当前行中查找到的所有字符串“old” 替换为“new”
  * :#,#s/old/new/g  在行号“#,#”范围内替换所有的字符串“old”为“new”
  * :%s/old/new/g  在整个文件范围内替换所有的字符串“old”为“new”
  * :s/old/new/c 在替换命令末尾加入c命令，将对每个替换动作提示用户进行确认



# 概念性高频问题
* 查看XXX进程：```ps aux | grep xxx, pstree, top ```
* 找到共用80端口的进程 ```netstate -anp | grep 80 ```
* 查看某个进程的端口号
  ```
  netstate -anp | grep xxx  
  lsof - i: 80  
  ```
* top： 用于实施监控 linux 系统状况，可以查看 cpu、内存、进程、运行时间等
* Kill -9 和 kill的区别 
  * kill 用法： kill -n pid, -n 是信号编号
  * kill pid 就是 kill -15 pid， -15 是 SIGTERM 系统会发送一个SIGTERM的信号给对应的程序。当程序接收到该signal后，将会发生以下的事情 
    1. 程序立刻停止
    2. 当程序释放相应资源后再停止
    3. 程序可能仍然继续运行
    大部分程序接收到 SIGTERM 信号后，会先释放自己的资源，然后在停止。但是也有程序可以在接受到信号量后，做一些其他的事情，并且这些事情是      可以配置的。如果程序正在等待IO，可能就不会立马做出相应。也就是说，SIGTERM 多半是会被阻塞的、忽略。 <br>
    kill -9 pid, -9 s 是 SIGKILL，Kill(can't be caught or ignored) (POSIX)，不管怎样都 kill
* 杀死占用指定端口的进程
   ```
   netstate -anp | grep 端口号 # 先找到pid
   kill -9 pid # 再杀死
   ```
* 查找当前目录下名字带有abc的文件 ``` ls *abc* ```
* 递归删除指定后缀名的文件，如.txt 
  ``` 
  find . -name '.txt' | xargs rm -f 
  find . -name '.txt' -delete
  ``` 
  xargs 是给命令传递参数的一个过滤器，也是组合多个命令的一个工具不，一般和管道一起使用。 有些命令不支持管道 | 来传递参数，就需要用 xargs
* 硬链接与软链接
  * 软链接：ln -s 源文件 目标文件   <br>
    硬链接：ln 源文件 目标文件  <br>
    源文件：即你要对谁建立链接
  * 概念：
    * 硬链接等于 cp -p 加 同步更新. 硬链接文件和源文件的内容、大小和创建时间一样, 内容相当于copy了一份。 硬链接可以看做是原文件的一个复制，只不过正常复制的文件更新时间与原文件是不同的，加个参数 -p 相同，而且正常复制的文件不会同步更新。硬链接以文件副本的形式存在，但不占用实际空间。不允许给目录创建硬链接。硬链接只有在同一个文件系统中才能创建。
    * 软链接文件只是维持了从软链接到源文件的指向关系, 不是源文件的内容, 大小、创建时间等不一样。软链接可以跨文件系统。软链接可以对一个不存在的文件名进行链接。 软链接可以对目录进行链接。
  * 删除源文件，对硬链接和软链接的影响
    * 查看软链接文件，查看的文件不存在
    * 硬链接文件正常查看
    * 原因：i节点是文件和目录的唯一标识，每个文件和目录必有i节点. 硬链接和源文件对应的是同一个i节点。删除源文件，只是删除i节点到源文件的映射关系，而i节点到硬链接的映射关系还在，这也解释了为什么硬链接可以和源文件同步更新。
* Linux 下命令有哪几种可使用的通配符？分别代表什么含义?
  * “？”可替代单个字符。
  * “* ”  可替代任意多个字符。
  * 方括号“[charset]”可替代 charset 集中的任何单个字符，如[a-z]，[abABC]
* Linux 中进程有哪几种状态？在 ps 显示出来的信息中，分别用什么符号表示的？
  * 不可中断状态：进程处于睡眠状态，但是此刻进程是不可中断的。不可中断， 指进程不响应异步信号。
  * 暂停状态/跟踪状态：向进程发送一个 SIGSTOP 信号，它就会因响应该信号 而进入 TASK_STOPPED 状态;当进程正在被跟踪时，它处于 TASK_TRACED 这个特殊的状态。“正在被跟踪”指的是进程暂停下来，等待跟踪它的进程对它进行操作。
  * 就绪状态：在 run_queue 队列里的状态
  * 运行状态：在 run_queue 队列里的状态
  * 可中断睡眠状态：处于这个状态的进程因为等待某某事件的发生（比如等待 socket 连接、等待信号量），而被挂起
  * zombie 状态（僵尸）：
  * 退出状态
  在PS显示出来的信息里，有
  ```
  D 不可中断 Uninterruptible（usually IO）
  R 正在运行，或在队列中的进程
  S 处于休眠状态
  T 停止或被追踪
  Z 僵尸进程
  W 进入内存交换（从内核 2.6 开始无效）
  X 死掉的进程
  ```
* 哪个命令专门用来查看后台任务?  -- job -l
* 把后台任务调到前台执行使用什么命令?把停下的后台任务在后台执行起来用什么命令?  -- fg 和 bg
* 使用什么命令查看用过的命令列表? -- history
* 使用什么命令查看网络是否连通?   -- netstat
* 怎么对命令进行取别名？ -- alias la='ls -a'
* 怎样一页一页地查看一个大文件的内容呢？ -- 通过管道将命令”cat file_name.txt” 和 ’more’ 连接在一起可以实现这个需要,即: cat file_name.txt | more
* linux 内核版本号： 主版本号.次版本号.末版本号  其中中间版本号为奇数的表示是开发和测试版本，偶数表示稳定版本
* 什么叫做守护进程？ --守护进程(Daemon)是一类在后台运行的特殊进程，用于执行特定的系统任务。很多守护进程在系统引导的时候启动，并且一直运行直到系统关闭。（比如退出微信，还能收到消息）
